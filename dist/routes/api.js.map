{"version":3,"sources":["../../server/routes/api.js"],"names":["api","config","db","router","Router","console","log","get","req","res","next","json","AppName","Version","collection","find","toArray","err","docs","error","status","messsage"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAIA,MAAM,SAANA,GAAM,CAACC,MAAD,EAASC,EAAT,EAAgB;AACxB,MAAIC,SAAS,kBAAQC,MAAR,EAAb;;AAEAC,UAAQC,GAAR,CAAYL,MAAZ;;AAEAE,SAAOI,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClCD,QAAIE,IAAJ,CAAS;AACPC,eAAS,UADF;AAEPC,eAAS;AAFF,KAAT;AAID,GALD;;AAOAV,SAAOI,GAAP,CAAW,OAAX,EAAoB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACtCR,OAAGY,UAAH,CAAc,MAAd,EAAsBC,IAAtB,CAA2B,EAA3B,EAA+BC,OAA/B,CAAuC,UAACC,GAAD,EAAMC,IAAN,EAAe;AACpD,UAAID,GAAJ,EAAS;AACPZ,gBAAQc,KAAR,CAAcF,GAAd;AACAR,YAAIW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB,EAAEU,UAAU,cAAZ,EAArB;AACD,OAHD,MAGO;AACLZ,YAAIW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqBO,IAArB;AACD;AACF,KAPD;AAQD,GATD;;AAWA,SAAOf,MAAP;AACD,CAxBD;;kBA0BeH,G","file":"api.js","sourcesContent":["import express from \"express\";\n\nlet api = (config, db) => {\n  let router = express.Router();\n\n  console.log(config);\n\n  router.get(\"/\", (req, res, next) => {\n    res.json({\n      AppName: \"rest-api\",\n      Version: \"0.1.0\"\n    });\n  });\n\n  router.get(\"/test\", (req, res, next) => {\n    db.collection(\"test\").find({}).toArray((err, docs) => {\n      if (err) {\n        console.error(err);\n        res.status(500).json({ messsage: \"server error\" });\n      } else {\n        res.status(200).json(docs);\n      }\n    });\n  });\n\n  return router;\n};\n\nexport default api;\n"]}